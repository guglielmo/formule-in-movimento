# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

**Formule in Movimento** creates mathematical and physics animations using Manim (Community Edition), a Python library for creating educational animations. The project is designed to make complex concepts accessible to students through visual storytelling, optimized for mobile devices and social media sharing.

All content (animations, web pages, documentation) is in **Italian**.

### Project Name Meaning

"Formule in Movimento" has two interconnected meanings:
1. **Dynamic animations** - Formulas, expressions, and experiments brought to life through motion and transformation in Manim videos. Every element moves, transforms, and animates to explain concepts - not static content
2. **Mobile content** - Videos designed to be consumed "on the go" (in movimento) on mobile devices and shared on social platforms

## Project Structure

```
formule-in-movimento/
├── index.html                          # Main landing page (Italian, light theme)
├── animations/                         # Animation modules organized by discipline
│   ├── matematica/                     # Mathematics section
│   │   └── [topic]/
│   │       ├── [name].py              # Manim scene definitions
│   │       ├── index.html             # HTML page for this animation
│   │       └── media/videos/          # Rendered videos (generated by Manim)
│   └── fisica/                        # Physics section
│       └── [topic]/
│           ├── [name].py
│           ├── index.html
│           └── media/videos/
└── .venv/                             # Python virtual environment
```

## Architecture Principles

**Animation Organization:**
- Animations are organized into two main disciplines: `matematica/` and `fisica/`
- Each concept lives in its own subdirectory under the respective discipline
- Each animation directory contains:
  - Python file(s) with Manim scene classes
  - `index.html` page showcasing the animations with Italian descriptions
  - `media/` directory with rendered videos (auto-generated by Manim)

**Styling Convention:**
- **Light background theme**: All animations use `self.camera.background_color = WHITE`
- **Dark colors for visibility**: Use `BLACK`, `DARK_BLUE`, `RED_D`, `GREEN_D`, `BLUE_D`, `DARK_GRAY`
- **Italian labels**: All text in animations and HTML pages must be in Italian
- **Web design**: Light, clean theme with professional styling for accessibility and mobile viewing

**Mobile-First Design:**
- **Responsive layouts**: HTML pages must be mobile-responsive
- **Vertical video support**: Consider 9:16 aspect ratio for social media (use `--resolution 1080,1920`)
- **Touch-friendly**: Buttons and interactive elements sized for touch screens
- **Fast loading**: Optimize video file sizes for mobile networks
- **Easy sharing**: Include embed codes and social sharing buttons

## Common Commands

### Rendering Scenes

Navigate to the specific animation directory before rendering:

```bash
# Navigate to animation directory (mathematics example)
cd animations/matematica/example_topic/

# Quick preview (low quality)
manim -pql example.py ExampleScene

# High quality render (horizontal, standard)
manim -pqh example.py ExampleScene

# High quality render (vertical, for social media)
manim -pqh example.py ExampleScene --resolution 1080,1920

# Render for physics section (e.g., thermodynamics)
cd animations/fisica/termodinamica/
manim -pqh primo_principio.py PrimoPrincipio

# List all scenes in a file
manim example.py --list

# Render all scenes in a file
manim example.py
```

### Quality Flags
- `-ql`: Low quality (480p, 15fps) - fast preview
- `-qm`: Medium quality (720p, 30fps)
- `-qh`: High quality (1080p, 60fps) - **recommended for publication**
- `-qk`: 4K quality (2160p, 60fps)

### Other Useful Flags
- `-p`: Preview/play video after rendering
- `-s`: Save last frame as image only (no animation)
- `-a`: Render all scenes in the file
- `--resolution WIDTHxHEIGHT`: Custom resolution (e.g., `--resolution 1080,1920` for vertical video)

## Development Setup

### Environment
- Python 3.12 (specified in `.python-version`)
- Uses virtual environment in `.venv/`

### Setup Commands
```bash
# Activate virtual environment
source .venv/bin/activate  # Linux/Mac
# or
.venv\Scripts\activate  # Windows

# Install dependencies
pip install -r requirements.txt
```

### Dependencies
- manim (Community Edition)
- LaTeX installation for mathematical typesetting (TeX Live on Linux, MiKTeX on Windows, MacTeX on macOS)

### Creating a New Animation

When adding a new animation (e.g., for mathematics):

1. Create a new directory under the appropriate discipline:
   ```bash
   mkdir -p animations/matematica/new_topic
   # or
   mkdir -p animations/fisica/new_topic
   ```

2. Create the Python file with Manim scenes (following light theme conventions)

3. Render the animations from within that directory

4. Create an `index.html` page for the animation with Italian descriptions
   - Include mobile-responsive design
   - Add social sharing buttons
   - Provide embed code for the video

5. Update the main `index.html` to link to the new animation

## Animation Design Principles

When creating educational scenes for students:

- **Light theme required**: Always set `self.camera.background_color = WHITE` in `construct()`
- **Color palette**: Use dark colors (BLACK, DARK_BLUE, RED_D, GREEN_D, BLUE_D, DARK_GRAY) for high contrast
- **Italian language**: All text, labels (Text, MathTex) must be in Italian
- **Student-friendly**: Use clear, simple language; avoid overly academic terminology
- **Build intuition**: Focus on visual representation over formal proofs
- **Smooth transitions**: Use gradual transformations to show relationships
- **Short duration**: Keep animations concise (30-90 seconds ideal for social media)
- **Mobile viewing**: Ensure text is readable on small screens (larger font sizes)

### Mathematics Topics
Examples: algebra, geometry, trigonometry, functions, limits, derivatives, integrals, series

### Physics Topics
Primary focus: **thermodynamics** (current year's curriculum)
Other topics: general physics concepts as needed

## Technical Notes

- **Color application**: Use `.set_color()` method for axis labels rather than passing `color` parameter to `get_x_axis_label()` and `get_y_axis_label()` (Manim version compatibility)
- **Axis styling**: Set axis colors via `axis_config={"color": DARK_BLUE}` in Axes constructor
- **Video output**: Rendered videos go to `animations/<discipline>/<topic>/media/videos/<file_name>/<quality>/`
- **Vertical video**: For social media, render with `--resolution 1080,1920` to create 9:16 aspect ratio
- **File naming**: Use descriptive, lowercase names with underscores (e.g., `moto_rettilineo_uniforme.py`)
- **Scene naming**: Use PascalCase for scene class names (e.g., `class MotoRettilineo(Scene):`)

## Content Strategy

### Mathematics Section (`animations/matematica/`)
Focus on:
- Visual proofs and demonstrations
- Geometric interpretations
- Function behavior and transformations
- Calculus concepts (limits, derivatives, integrals)
- Algebraic manipulations visualized

### Physics Section (`animations/fisica/`)
Primary focus on **thermodynamics**:
- Heat and temperature concepts
- Laws of thermodynamics (zeroth, first, second, third)
- Thermodynamic processes (isothermal, adiabatic, isobaric, isochoric)
- State variables and equations of state
- Heat engines and efficiency
- Entropy and disorder
- Real-world applications (engines, refrigerators, etc.)

Other physics topics as needed for general understanding

### Mobile & Social Optimization
- **Duration**: 30-90 seconds optimal for social media
- **Text size**: Larger fonts for mobile readability
- **Captions**: Consider adding Italian captions/subtitles
- **Hook**: Start with compelling visual in first 3 seconds
- **Format options**: Both horizontal (16:9) and vertical (9:16) versions when appropriate
